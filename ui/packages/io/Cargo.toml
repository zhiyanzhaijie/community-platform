[package]
name = "io"
version = "0.1.0"
edition = "2021"

[dependencies]
# Dioxus fullstack
dioxus = { workspace = true, features = ["fullstack"] }
serde = { version = "1.0", features = ["derive"] }

# 使用 core/api 的 DTO 层 (轻量级,不启用 http-server feature)
api-dto = { package = "api", path = "../../../core/crates/api", default-features = false }

# Core 依赖: 只在服务端需要
app = { path = "../../../core/crates/app", optional = true }
domain = { path = "../../../core/crates/domain", optional = true }
infra = { path = "../../../core/crates/infra", optional = true }
shared = { path = "../../../core/crates/shared", optional = true }

# 服务端专用依赖
tokio = { version = "1.0", optional = true }
anyhow = { version = "1.0", optional = true }
uuid = { version = "1.10", optional = true }
chrono = { version = "0.4", optional = true }
jsonwebtoken = { version = "9.3", optional = true }

[features]
default = []
server = [
    "dep:app", 
    "dep:domain", 
    "dep:infra", 
    "dep:shared",
    "dep:tokio",
    "dep:anyhow",
    "dep:uuid",
    "dep:chrono",
    "dep:jsonwebtoken",
    "dioxus/server"
]
